# ググるについて
ググれば解決すると結構言いますが、  
大体はググる前に解決できるか決まってる気がしますね。  

https://zenn.dev/dev63/articles/2bb58106228db9

の対応をした時思ったのですが、  
- 素直にターミナルやブラウザのコンソールに出ているエラーメッセージを読む、  
- 必要ならプリントデバッグする。  
- 仮説を立てる。  
- それではじめてググる。  

そうするとやっぱりすぐ解決する。  

Next.jsだけどNuxt.jsを参考にすることもあるし、  
Rubyでちょっとややこしいアルゴリズムを書くとき、  
Cの記事を参考にすることがある。  
やっぱり今の問題が複雑だと思い込んでしまっている時、  
方針からして良くない時が多いなあと改めて実感しました。
プリンシプルオブプログラミングにもそんな話があった気がする。
# プログラミングの進め方

- 比較
  - 動いているコード
  - 参考のコード
- 辿る（以下のようなものから）
  - ターミナルの表示
  - tsの型
  - 例外表示
- 手を動かす
  - 実際にエラー通り操作
  - 詰まってるなら入門ハンズオンとかでもやってみる
  - 紙やテキストで書き出して整理
  - プリントデバッグ
- 視野を広げる
  - しばらく離れる
  - 見る順番をかえる
  - 別の事をやる

だいたいやってる事って、こんな物ですね。  
これらを合わせて時間経てば解決する。  
インフラ系の設定とか、マークアップでも大体同じですね。

↓の記事にある「ピタゴラ装置」という表現は凄く納得感強いです。
https://qiita.com/jnchito/items/e4b75ff2c3eeccfffec1

# 別環境で動かない、、って場合まずは同じコードを置く
resqueのworkerがステージングで動かないことがあったのですが、  
要件に合わないけど取り敢えずローカルで動いてるコードを入れたら、  
解決の糸口掴めました。  
やっぱりとりあえず動かすのは大事ですね。  

# 素直にシンプルに正攻法
↓の件でちょっと長くハマったんですが、  
毎度ながら素直にシンプルに簡単な正攻法でうまくいくなあと改めて。  
変にdockerの設定とか見ちゃってました。。  
https://zenn.dev/dev63/articles/586da3f69cdc69

# SOA落ちました
今日（日付で言えば昨日）SOAを受験しましたが落ちました！  
80点ほど足りませんでした。  
ラボ問題未対策で2問中1問はまあできたかな？という感じでした。  
  
知識が曖昧な部分があったのと、  
ラボ問題の対策をしていなかったので、  
次回受験までにラボの対策、同じ問題集の演習をしますが、  
復習時に簡単なアウトプットをするようにします！  
  
これで知識の曖昧さがなくなり合格できるはず。
# TDDについて
最近バックエンドから実装する方がやりやすいと感じ、  
バックエンドから実装することが多いのですが、  
そうすれば自然にTDD的になるなあという気がしてきました。  
  
実装でしばらく経験を積んだら、ちゃんとしたTDDの知識も入れていきたいですね。
# NextAuth.js公式が親切すぎる
https://next-auth.js.org/
# frourioのわかりやすい記事
https://qiita.com/su8ru/items/e4ba6fd311ee3905d174
# jestのエラー

```
Returning a Promise from "describe" is not supported. Tests must be defined synchronously.
        Returning a value from "describe" will fail the test in a future version of Jest.
```
というエラ〜メッセージが出ました。  
ググって色々やっていましたが、結局テストケースが全く記載されていなかったからでした。  
テストケースを記載して解決。
# 1ファイル＝1テーマ
過去ブログを読み返していたが、1ファイル＝1テーマがわかり易い。  
マークダウンなのでついつい構造化して文章を書きたくなるが、  
後から読み返し易いように、  
1ファイル＝1テーマでブログを書こうと思った。  

個人的なメモがMacのメモにあるのだが、  
それをこのブログにアウトプット、  
その後良いもの、もっと読みたいものはQiitaやZennにアウトプットしたいと感じた。

リライトする度、理解も文章もブラッシュアップされていくと思うので。
あと、もっと思いついた話を自由に書けるよう、  
エンジニアリングと関係ないブログも書きたいので[これ](https://jun-software.hatenablog.com/)を再利用します。
# Googleアナリティクス
feedlyを見ていて[クラメソさんの記事](https://dev.classmethod.jp/articles/managing-google-analytics-tags-with-google-tag-manager/)を見た。  
すごくわかりやすく纏めてくださってる方がいるし、  
個人開発したものに、ボチボチ時間見つけてGoogleタグマネージャーも設定しないとだなあと感じた。
# DVA合格しました
学習期間は12/27~1/22、26日間で合格。  
特典はSAAの時の736点より少し高い、763点。  

演習した問題数はSAAもDVAも1100問程度ですが、  
DVAについては1つの問題集を3周半、SAAは2周半だったからなのか、  
SAAでつけた知識が影響しているのかという感じでしたね。  

今やってるReact、AWSの学習をこのまま進めれば、  
業務で使っているRuby on Railsと良い感じにシナジーがありそうな気がしています。
# Reactの無限ループ
大事には至ったことはないですが、何度も遭遇しているのでケースをまとめる。  
axiosとか使ってクラウド破産とかするの怖い。
- useEffectを使わない
- useEffectの第二引数を指定しない
- useEffectの第二引数の配列に設定したstateが間違っていた

現状はざっくり、  
第二引数に空配列を指定すれば、無限ループにはならないかなという理解。

[こちら](https://nishinatoshiharu.com/useeffect-scond-arg-usage/)によると、コンポーネントのマウント時、  
アンマウント時のみuseEffect実行なら空配列との事。  

[こちら](https://numb86-tech.hatenablog.com/entry/2019/10/23/121332)も読んでみると第二引数が変化した時に実行される、  
stateの更新←→useEffectの実行が繰り返される条件下で起こることみたいだ。 

なんとなくわかったかもしれない。  
ちゃんと第二引数で条件を指定しないとなあと思った。
# DVA学習レポート
問題演習をしている所管ですが、  
RubyGoldなどと違って引っ掛けっぽい問題がないですね。  
SAAも同様の感覚でした。  


プログラミング言語の理解を問うならどうしても、  
業務プログラミングから乖離するので仕方ないことで、  
RubyGoldが意地悪という訳ではないと思いますが。  

問題文からキーワード拾って、素直に答えれば正解するな。
という感覚があります。  
AWSが自社製品をどう使って欲しいか？という問いなので、  
出題者としても合格して欲しいんだなという感じですね。  
# ドメイン取りました
ドメイン取りました。  
やっぱりプロダクト開発が一番力つくなあという感じがしたので。  
個人開発に力を入れていきます。  

ドメイン自体はRoute53で取得して、サブドメインで各アプリを公開します。  
↓みたいな感じで。  
https://id-generator.juns-app.com/

# Zennはじめました
個人開発で得た知識、経験は再度同じケースに当たれば「アレか」と思える程度ではありますが、  
すぐに細部までは思い出せない、GitHubのソースコードを見て思い出すという感じだったので、 
纏めるためにはじめました。  

エディタがカッコ良くすごく使いやすい。

https://zenn.dev/dev63/articles/e9ec12908eee35
# Next.jsのプロジェクトから prisma cloudのDBへ接続できない
.envに
```
postgres://
```
で始まる接続文字列を書いていなかったことが原因でした。  
記述して解決。
# Reactでnavigator.clipboard.writeText(hoge)するにはasync/awaitが必要
クリックでコピーさせたい時、  

```
navigator.clipboard.writeText(hoge)
```
みたいにしますが、async/awaitがないとうまく動きませんでした。  
  
async/await、概念は理解しているつもりですが、  
awaitのタイミングとか、  
async/awaitが必要とか理解が薄いので経験積みつつ、  
正確なインプットをしたいところ。  
# Qiita投稿しました。
## 概要
今回受験、合格した具体的な体感、思考などを書き留めました。  
今後もAWS認定など、自分の資格試験をする際に役立てたいです。  
随時過不足あれば更新すると思います。
[https://qiita.com/JJJJJJJJ/items/dc2983b68b7b0186ed26](https://qiita.com/JJJJJJJJ/items/dc2983b68b7b0186ed26)

## 気になっている点
時系列で具体的に書きたかったので、冗長になってしまったと思います。  
またポイントだけまとめたものをQiitaか、  
ブログか分かりませんが纏められたらなと思います。
# ReactのDOM操作はstate操作
直接DOMを弄ろうとして時間をたくさん使ってしまいました。。  
宣言的UIなんて言葉もある位で、  
stateでDOMを操作するのは当たり前、基礎が抜けていたなあと感じました。  
ただ個人的に基礎を先にやっても身に付きにくいので、  
これからも体当たりで実践してから、基礎に帰って学んで行きたいです。  
# SAA合格
SAA合格しました！
勉強期間19日、割とミニマムかつ良い戦略で勉強出来たと思うので、自分のためにQiitaで纏めようと思います。

# amplifyのデプロイ時、バックエンドのbuildでaws-exports.jsが無いエラーになる。

実際に無いので正しいのですが、対処がわからず戸惑いました。  
暫定的にというか以下2点しか現状無いような気がします。  

- フロントエンドのみのbuildにする
- privateリポジトリにしてaws-exports.jsもpushする

Next.jsをフロントとして使っているだけなら前者で良いですし、  
基本的に世に出すプロダクトはprivateリポジトリで開発されていることが多いから、  
実際使う上で問題ないよねと言う判断なのかもしれません。  
  
JAWS-UGで話題になったこともあるようなので、  
今後変化があるかもしれないですね。

# 【Rails】ResqueでプリントデバッグするときはRails.logger.infoじゃなくてp

Resqueワーカー内でRails.logger.infoしてもログが出ませんでした。  
そういえばpとかputsなら出るなと言うことで、  
実際やれば出ました。
# localでresque実行するとき【Rails】

以下のコマンドでrailsサーバー、redisサーバーを起動し、ワーカーを待ち受ける。

```
bin/rails s -e local
redis-server
VVERBOSE=1 QUEUE=* bundle exec rake environment resque:work
```
# Resqueの導入【Rails】

## resqueのインストール

```
gem 'resque'
```

```
bundle install
```
## redis-serverを起動
```
$ redis-server
```
## ワーカーを待つ
``` 
QUEUE=* bundle exec rake environment resque:work
```
## taskを作る
```ruby:lib/tasks/resque.rake
require 'resque/tasks'
namespace :resque do
end
```
## ワーカーを作る
```ruby:app/workers/mylogger.rb
class Mylogger
  @queue = :default # queue名を指定
  def self.perform
    p "hello!"
  end
end
```
## 実行
```
Rails c
Resque.enqueue(Mylogger)
```
# SAA学習記録
- 11月23日からReact関連のプログラミングと平行して学習
- Udemy問題集2回解く45%程度？確認
- 不正解の見直しは一言アウトプット
- ハンズオンUdemy教材、1~200は全部やった。
- 間に合わなそうなので、概要の動画視聴だけorググるだけ+一言アウトプット要約or感想
- 演習用Udemyを最後まで通す
- ハンズオンUdemy教材のテストを全部解く
- 2週目（12/8時点）
# スプレッドシートの関数まとめ

## 今日のシリアル値
```
　=today()
```

## 食費ペース計算
一日あたりいくら使うか？×月初から月末までの日数

```
=sum((B5/DAY(TODAY()))) * (day(EOMONTH(today(),0)))
```

## 月末までの日数

```
=DATE(YEAR(TODAY()), MONTH(TODAY())+1, 0) - TODAY()
```

## 今日の日数

```
=DAY(TODAY())
```

## 当月の月末数字

```
=day(EOMONTH(today(),0))
```

## 当月末

```
=EOMONTH(today(),0)
```

## 当月初

```
=EOMONTH(today(),-1)+1
```

## 別シートから値の取得&文字結合

```
=IMPORTRANGE("{シートのURL}",""&YEAR(TODAY())&"年"&MONTH(TODAY())&"月!B8")
```

## 別シートから値を取得して文章に＆少数丸める

```
="今月の食費予想金額は"&ROUNDDOWN(IMPORTRANGE("{シートのURL}",""&YEAR(TODAY())&"年"&MONTH(TODAY())&"月!B7"))&"円、1日平均"&ROUNDDOWN(IMPORTRANGE("{シートのURL}",""&YEAR(TODAY())&"年"&MONTH(TODAY())&"月!B8"))&"円です。" 
```
# config/initializers/*にあるものはサーバーを再起動しないと反映されない【Rails】
ようです。  
apacheを使っていたので、apacheの再起動で解決しました。  
自動的に反映する設定もあり、他のディレクトリでも同様のことがあるようですね。  
すぐ気付けるにしておきたいものです。
# SAA学習
[こちら](https://www.udemy.com/course/aws-associate/)の講座を学習してるのですが、週末で大体動画200/301まで進みました。  
元々30本目くらいまで進んでいたので、170本進んだ計算になります。  

内容としてはこの後すぐ演習で問題集を回せるなという感覚があったので、良い感じです。

本当なら全部終わらせてしまいたかったのですが、  
思ったより時間がかかり、終わらなかったのでせめて今月中には終わらせようと思います。  

そして早く演習いきたい、、
# SAA勉強開始
SAAの勉強開始しました。

# リードレプリカ
実際に動かせるバックアップみたいな物だと思っていましたが、  
RDSの負荷を減らす為なんかにも使えるんですね。  

# AWSアカウント停止
私用のAWSアカウントが停止されてしまいました、、  
原因は期限切れのクレジットカードを登録したままにしていた事です。  
事前にメールが来ていたのにスルーしてしまっていました。  

Githubからのメールとかもそうですが、  
英語のメールでも苦手意識もたず読まないとですね。  
あんまりどうでも良い連絡って来ないので。  

メールチェックはサービス運用なんかでも重要になると思うので、  
気をつけたいなと思いました。

# 「毎日草を生やす」はかなり良いのでは？
「Githubに毎日草を生やそう。」  
なんて言いますが、心掛けでは？  
と思っていました。  

ですが、今回10/18, 10/19と二日間ハマって、  
草が生えなかった日、さっさとインプットに切り替えていれば  
[こう](https://github.com/jun0222/blog/blob/main/posts/2021-11-20-131024.md)ならなかった訳で、毎日ベイビーステップで良いのに、  
少しのアウトプットも出せない=やり方が悪い。  
という一つの指標になる気がしました。
# LibreOfficeでread-onlyなファイルを操作するときはEdit modeにする
Edit → Edit modeとする。
# 手をつける順番

## 結論
個人開発でプログラミングする、プロダクトを作るとき、  
特に初動は作業の順番を気にしない方が良いと感じました。  
理由は以下の3点です。
- 例外処理が優秀
- 動き出せばモチベーションが湧く
- 人間、初動の腰が重い

### 初動
例外処理が現在のwebプログラミング周りのものは優秀。  
手を動かしていればいずれは解決してしまいます。  
なのでとにかく手を動かす。そのため余計な負荷はかけない方が良いと考えます。  

個人学習ではなく、仕事でシステムや特にDB、サーバーなんかを触るときは、  
ミスをしないように行動設計をしてから実装すべきだと思います。

### バグ修正
どうしても問題点を見つけて潰す必要性から、  
上から順番に見た方がよかったです。  
ただ何周もできるので気負わずに、神経を使いすぎない事が大事だと感じました。

## 背景
この事は、ハンズオン教材に取り組んでいた時に感じました。
# useRef
最近初めてReact HooksのuseRefを使いました。  
useStateと違って、再レンダリングせず値を内部的に更新するそうです。  
まだ解ったような解らないような、、  
なので何回もアウトプットして使って理解するしか無いですね。  
# 優秀なエンジニアはアウトプットを継続する
結局、枝葉は色々あれど優秀なエンジニアは、  
アウトプットを継続しているんだなあ。と。  
中嶋聡さんのアウトプットに関する本を読んでいるのですが、  
アウトプットするとなると結局インプットする、
そしてそれは、ただ漫然とインプットするよりも、  
知識として定着しやすい。とあってかなり腑に落ちました。  
プログラミングやその他技術習得においても同じでしょうね。  
思えば何でも実践好きは上達が早い傾向にあった気がします。
# 記事情報のテーブルを消しました
titleとか書いてた奴ですね。
アウトプットのアウトラインとしては、マークダウンのhタグで十分。  
その割にアウトプットハードルを上げていたので不要と判断しました。

# アウトプットで息切れしたら、インプットに戻る
今個人開発をしていて、アプリを開発中だったのですが、  
上手くいかない部分で調べても全然進まなかったです。  
具体的にはAWS amplifyのDBからレコードを取得して、カンバンボードのUIに適用させる事です。

で、そもそもインプットはざっくりでアウトプットスタートしているので、
インプット不足があったことに気づき、インプット（ハンズオン教材）に戻りました。

理論上インプットアウトプットの繰り返しでどんなアウトプットでも出せるはずですし、  
経験上そうなのでこういった判断を早くしたいです。
多分こう経験してかつ文字に起こすことで判断が早くなるハズ。

# 逆も言える
インプットでだらけてきたら、すぐアウトプットする。  
もまた真だと思うので、そちらも意識していきます。
# README.md作成
README.md作りました。  
過去のアウトプットが散らばっているので、集約します。  
ファイル名とタイトルの扱いに迷うところですが、一旦こちらに纏めて記載。

# シェルスクリプト
bin/newPost.shに作りました。  

現状は↓を叩くと、Y-m-d-HMS.md 的なタイトルを出してくれる物。
READMEにタイトルやファイル名が記入されなかったり、  
そもそもスマホからの投稿だと面倒だったりするので、  
これも良い感じに変えていきたいですね。

```
sh bin/newPost.sh
```
# GitPressやめた
GitPressを使うと書いて数時間ですが、やめました。

# これからはmdファイルをgit pushするだけ
blogというディレクトリを作って、その配下にmdファイルをpushするだけ。  
閲覧はgithubサイト上からという運用にします。

# 理由
- forkしたリポジトリは草が生えない
- 別にブログにするのが目的ではない
- ブログにしたくなったらmdファイルをインポートすれば良い
- 今はGitHub上でVSCodeから記事検索しやすい

というのが主な理由です。

# 本当に必要だった事
- 草が生えてモチベ続きやすい
- GitHubで一元管理できる

という本当に必要だった部分が満たせるので、この方法でしばらく運用します。

# 理由
## GitPressが楽そう。
アウトプット用のブログ、hatenaでやったりSSG使ったり、、  
色々試してきましたがGitPressが一番楽に管理できて続きそう。  
そう思ったのでGitPressで管理します。  
GitHubで管理を一元化できるのが有難い。

## 楽を求めるのは
楽を求める理由は、継続のタメですね。  
結局個人の思考整理、知識定着のためのアウトプットは  
継続してこそ意味があるものだと思うので。  
継続しやすい仕組みを作るという視点でこのように落ち着きました。

# とはいえ、また変わるかも。
GitPressに切り替える、これ自体もアウトプットの1つ。
またデメリットを見つけて解決が手間でアウトプットできない、なんてことがあればまた戻すかもしれません。

# アウトプットに関して

## アウトプットするネタについて

### 個人メモ
カッコ良いのでSSGで管理しよう！と思っていたのですが、  
一連の作業が何となく面倒で、投稿フローを改善するのも面倒になり、投稿が止まってしまっていました。。  
Macのメモとかgoogle documentにはメモするクセがあったので、ネタには困らないのですが。

### 書籍やネット上の記事
これらは、正確に時系列で書かれたものが多いので、  
正しいんだけど何言ってるかわからない事が多いです。  
得てして正しくなかったり、正確ではないんだけど、自分は言ってることが分かる、個人のアウトプットと相性が良いと思いました。

### 感想

#### 定着
やっぱりアウトプットした知識はそうでないものより定着してたので、効果あったなーと感じました。  
特に本質的な力が付くというか、単語を暗記するよりも、調べたら使える、使っていけば覚えそうというような定着の仕方だったので良かったです。

#### 先に繋がる
不味いアウトプットをしてもそのさきの思考につながったり、  
自分がどのように思考しているか？追える、これはかなり大きいと思います。  
解決できたときの原因が明確になる、現在地の把握によってここからどうするか？  
計画を立てやすくなるので。

#### マークダウン活用力UP
マークダウンの活用が以前より多少なりできる様になって、  
会話とかしながら情報を整理するスピードが上がった気がします。

#### 気分が晴れる
人と話すと気分が晴れるなんて言いますが、  
実際人と話差なくても、吐き出せばそれだけで嫌な気持ちが落ち着きます。  
解決できないエラーをどこまでやったかメモしておいて寝たおかげで快眠でした。

# 過去のブログ
## hatena
https://jun-software.hatenablog.com/
## SSG
https://jun0222.github.io/jun-software/

